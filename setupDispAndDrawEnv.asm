setupDispAndDrawEnv() {
  bufferId = load(0x136E0C)
  
  store(0x136E6C, load(0x136E84 + bufferId * 2)) // dispEnv area offset X
  store(0x136E6E, load(0x136E88 + bufferId * 2)) // dispEnv area offset Y
  
  PutDispEnv(0x136E6C)
  SetDispMask(1)
  
  frameCount = load(0x136E08) + 1
  frameCount = frameCount == 0 ? 1 : frameCount
    
  store(0x136E08, frameCount)
  store(0x136E0C, load(0x136E0C) < 1 ? 1 : 0)
  
  setupDrawEnv()
  0x00097B08() // something drawEnv related
}

0x00097c98 lui r2,0x8013
0x00097c9c lh r2,0x6e0c(r2)
0x00097ca0 addiu r29,r29,0xffe8
0x00097ca4 sw r31,0x0010(r29)
0x00097ca8 sll r2,r2,0x01
0x00097cac lui r3,0x8013
0x00097cb0 addu r3,r3,r2
0x00097cb4 lhu r3,0x6e84(r3)
0x00097cb8 lui r4,0x8013
0x00097cbc addiu r4,r4,0x6e6c
0x00097cc0 sh r3,0x0000(r4)
0x00097cc4 lui r1,0x8013
0x00097cc8 addu r1,r1,r2
0x00097ccc lhu r2,0x6e88(r1)
0x00097cd0 jal 0x00094bfc
0x00097cd4 sh r2,0x0002(r4)
0x00097cd8 jal 0x00094718
0x00097cdc addiu r4,r0,0x0001
0x00097ce0 lui r2,0x8013
0x00097ce4 lw r2,0x6e08(r2)
0x00097ce8 nop
0x00097cec addiu r2,r2,0x0001
0x00097cf0 addu r3,r2,r0
0x00097cf4 lui r1,0x8013
0x00097cf8 bne r3,r0,0x00097d04
0x00097cfc sw r3,0x6e08(r1)
0x00097d00 addiu r3,r0,0x0001
0x00097d04 lui r2,0x8013
0x00097d08 lh r2,0x6e0c(r2)
0x00097d0c lui r1,0x8013
0x00097d10 sw r3,0x6e08(r1)
0x00097d14 sltiu r2,r2,0x0001
0x00097d18 lui r1,0x8013
0x00097d1c jal 0x00097c18
0x00097d20 sh r2,0x6e0c(r1)
0x00097d24 jal 0x00097b08
0x00097d28 nop
0x00097d2c lw r31,0x0010(r29)
0x00097d30 addiu r29,r29,0x0018
0x00097d34 jr r31
0x00097d38 nop