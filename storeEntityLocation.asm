void storeEntityLocation(scriptId, positionPtr) {
  locationPtr = -1
  
  if(scriptId == 253) // Hiro
    locationPtr = load(0x155770)
  else if(scriptId == 252) // Partner
    locationPtr = load(0x1557AC)
  else
    for(r6 = 0; r6 < 8; r6++) {
      if(load(0x155828 + r6 * 68 + 0x65) == scriptId) {
        locationPtr = load(0x155828 + r6 * 0x68 + 0x04)
        break
      }
    }
  }
  
  if(locationPtr != -1) {
    store(positionPtr + 0x00, load(locationPtr + 0x78))
    store(positionPtr + 0x04, load(locationPtr + 0x7C))
    store(positionPtr + 0x08, load(locationPtr + 0x80))
    store(positionPtr + 0x0C, load(locationPtr + 0x84))
  }
}

0x000d8780 addiu r1,r0,0x00fd
0x000d8784 bne r4,r1,0x000d87bc
0x000d8788 nop
0x000d878c lui r1,0x8015
0x000d8790 lw r2,0x5770(r1)
0x000d8794 nop
0x000d8798 lw r6,0x0078(r2)
0x000d879c lw r4,0x007c(r2)
0x000d87a0 lw r3,0x0080(r2)
0x000d87a4 lw r2,0x0084(r2)
0x000d87a8 sw r6,0x0000(r5)
0x000d87ac sw r4,0x0004(r5)
0x000d87b0 sw r3,0x0008(r5)
0x000d87b4 beq r0,r0,0x000d8858
0x000d87b8 sw r2,0x000c(r5)
0x000d87bc addiu r1,r0,0x00fc
0x000d87c0 bne r4,r1,0x000d87f8
0x000d87c4 nop
0x000d87c8 lui r1,0x8015
0x000d87cc lw r2,0x57ac(r1)
0x000d87d0 nop
0x000d87d4 lw r6,0x0078(r2)
0x000d87d8 lw r4,0x007c(r2)
0x000d87dc lw r3,0x0080(r2)
0x000d87e0 lw r2,0x0084(r2)
0x000d87e4 sw r6,0x0000(r5)
0x000d87e8 sw r4,0x0004(r5)
0x000d87ec sw r3,0x0008(r5)
0x000d87f0 beq r0,r0,0x000d8858
0x000d87f4 sw r2,0x000c(r5)
0x000d87f8 lui r3,0x8015
0x000d87fc addiu r3,r3,0x5828
0x000d8800 beq r0,r0,0x000d884c
0x000d8804 addu r6,r0,r0
0x000d8808 lbu r2,0x0065(r3)
0x000d880c nop
0x000d8810 bne r2,r4,0x000d8844
0x000d8814 nop
0x000d8818 lw r2,0x0004(r3)
0x000d881c nop
0x000d8820 lw r6,0x0078(r2)
0x000d8824 lw r4,0x007c(r2)
0x000d8828 lw r3,0x0080(r2)
0x000d882c lw r2,0x0084(r2)
0x000d8830 sw r6,0x0000(r5)
0x000d8834 sw r4,0x0004(r5)
0x000d8838 sw r3,0x0008(r5)
0x000d883c beq r0,r0,0x000d8858
0x000d8840 sw r2,0x000c(r5)
0x000d8844 addiu r3,r3,0x0068
0x000d8848 addi r6,r6,0x0001
0x000d884c slti r1,r6,0x0008
0x000d8850 bne r1,r0,0x000d8808
0x000d8854 nop
0x000d8858 jr r31
0x000d885c nop