int getChampionEvolutionTarget(digimonType) {
  score = 0
  bestScore = 0
  bestDigimon = -1
  count = 0
  
  for(i = 0; i < 6; i++) {
    targetType = load(0x12B671 + (digimonType - 1) * 11 + i)
    
    if(targetType == -1)
      continue
    
    reqFlag = load(0x12AC06 + targetType * 0x1C)
    
    isMaxCM = reqFlag & 0x10
    isMaxBattles = reqFlag & 0x01
    
    requirementScore = calculateRequirementScore(digimonType, targetType, isMaxCM, isMaxBattles, bestDigimon)
    
    if(requirementScore < 3) // Digimon not enabled
      continue
    
    // add required stats to priority score, increase counter per stat
    if(load(0x12ABEE + targetType * 0x1C) != -1) { // HP
      score += load(0x1557F0) / 10
      count++
    }
    if(load(0x12ABF0 + targetType * 0x1C) != -1) { // MP
      score += load(0x1557F2) / 10
      count++
    }
    if(load(0x12ABF2 + targetType * 0x1C) != -1) { // Offense
      score += load(0x1557E0)
      count++
    }
    if(load(0x12ABF4 + targetType * 0x1C) != -1) { // Defense
      score += load(0x1557E2)
      count++
    }
    if(load(0x12ABF6 + targetType * 0x1C) != -1) { // Speed
      score += load(0x1557E4)
      count++
    }
    if(load(0x12ABF8 + targetType * 0x1C) != -1) { // Brains
      score += load(0x1557E6)
      count++
    }
    
    // divide score by counter
    score = score / count
    
    // if the score is better than the old best, overwrite it
    // Bug: Only reset score and count when this is the case, should reset all the time
    if(bestScore < score) {
      bestScore = score
      bestDigimon = targetType
      
      count = 0
      score = 0
    }
  }
  
  return bestDigimon
}

0x000e2f08 addiu r29,r29,0xffc8
0x000e2f0c sw r31,0x0034(r29)
0x000e2f10 sw r22,0x0030(r29)
0x000e2f14 sw r21,0x002c(r29)
0x000e2f18 sw r20,0x0028(r29)
0x000e2f1c sw r19,0x0024(r29)
0x000e2f20 addu r22,r4,r0
0x000e2f24 addi r3,r22,-0x0001
0x000e2f28 sll r2,r3,0x02
0x000e2f2c add r2,r2,r3
0x000e2f30 sll r2,r2,0x01
0x000e2f34 sw r18,0x0020(r29)
0x000e2f38 sw r17,0x001c(r29)
0x000e2f3c add r3,r2,r3
0x000e2f40 lui r2,0x8013
0x000e2f44 sw r16,0x0018(r29)
0x000e2f48 addiu r2,r2,0xb66c
0x000e2f4c addu r2,r2,r3
0x000e2f50 sll r16,r0,0x10
0x000e2f54 sll r19,r0,0x10
0x000e2f58 addiu r18,r2,0x0005
0x000e2f5c addiu r21,r0,0xffff
0x000e2f60 addu r17,r0,r0
0x000e2f64 sra r16,r16,0x10
0x000e2f68 sra r19,r19,0x10
0x000e2f6c beq r0,r0,0x000e31f8
0x000e2f70 addu r20,r0,r0
0x000e2f74 lb r2,0x0000(r18)
0x000e2f78 addiu r1,r0,0xffff
0x000e2f7c bne r2,r1,0x000e2f8c
0x000e2f80 addu r5,r2,r0
0x000e2f84 beq r0,r0,0x000e31f4
0x000e2f88 addiu r18,r18,0x0001
0x000e2f8c sll r2,r5,0x03
0x000e2f90 sub r2,r2,r5
0x000e2f94 sll r3,r2,0x02
0x000e2f98 lui r2,0x8013
0x000e2f9c addiu r2,r2,0xac06
0x000e2fa0 addu r2,r2,r3
0x000e2fa4 lb r3,0x0000(r2)
0x000e2fa8 addu r4,r22,r0
0x000e2fac sll r2,r21,0x18
0x000e2fb0 sra r2,r2,0x18
0x000e2fb4 sw r2,0x0010(r29)
0x000e2fb8 andi r2,r3,0x0010
0x000e2fbc sra r2,r2,0x04
0x000e2fc0 sll r6,r2,0x18
0x000e2fc4 andi r2,r3,0x0001
0x000e2fc8 sll r7,r2,0x18
0x000e2fcc sra r6,r6,0x18
0x000e2fd0 jal 0x000e26b8
0x000e2fd4 sra r7,r7,0x18
0x000e2fd8 slti r1,r2,0x0003
0x000e2fdc bne r1,r0,0x000e31f0
0x000e2fe0 nop
0x000e2fe4 lb r4,0x0000(r18)
0x000e2fe8 addiu r1,r0,0xffff
0x000e2fec sll r2,r4,0x03
0x000e2ff0 sub r2,r2,r4
0x000e2ff4 addu r3,r4,r0
0x000e2ff8 lui r4,0x8013
0x000e2ffc sll r5,r2,0x02
0x000e3000 addiu r4,r4,0xabee
0x000e3004 addu r4,r4,r5
0x000e3008 lh r4,0x0000(r4)
0x000e300c nop
0x000e3010 beq r4,r1,0x000e305c
0x000e3014 addu r2,r5,r0
0x000e3018 lui r1,0x8015
0x000e301c lui r4,0x6666
0x000e3020 lh r5,0x57f0(r1)
0x000e3024 ori r4,r4,0x6667
0x000e3028 mult r4,r5
0x000e302c mfhi r4
0x000e3030 srl r5,r5,0x1f
0x000e3034 sra r4,r4,0x02
0x000e3038 addu r4,r4,r5
0x000e303c sll r4,r4,0x10
0x000e3040 sra r4,r4,0x10
0x000e3044 add r4,r16,r4
0x000e3048 sll r16,r4,0x10
0x000e304c addi r4,r17,0x0001
0x000e3050 sll r17,r4,0x10
0x000e3054 sra r16,r16,0x10
0x000e3058 sra r17,r17,0x10
0x000e305c lui r4,0x8013
0x000e3060 addiu r4,r4,0xabf0
0x000e3064 addu r4,r4,r2
0x000e3068 lh r4,0x0000(r4)
0x000e306c addiu r1,r0,0xffff
0x000e3070 beq r4,r1,0x000e30bc
0x000e3074 nop
0x000e3078 lui r1,0x8015
0x000e307c lui r4,0x6666
0x000e3080 lh r5,0x57f2(r1)
0x000e3084 ori r4,r4,0x6667
0x000e3088 mult r4,r5
0x000e308c mfhi r4
0x000e3090 srl r5,r5,0x1f
0x000e3094 sra r4,r4,0x02
0x000e3098 addu r4,r4,r5
0x000e309c sll r4,r4,0x10
0x000e30a0 sra r4,r4,0x10
0x000e30a4 add r4,r16,r4
0x000e30a8 sll r16,r4,0x10
0x000e30ac addi r4,r17,0x0001
0x000e30b0 sll r17,r4,0x10
0x000e30b4 sra r16,r16,0x10
0x000e30b8 sra r17,r17,0x10
0x000e30bc lui r4,0x8013
0x000e30c0 addiu r4,r4,0xabf2
0x000e30c4 addu r4,r4,r2
0x000e30c8 lh r4,0x0000(r4)
0x000e30cc addiu r1,r0,0xffff
0x000e30d0 beq r4,r1,0x000e30fc
0x000e30d4 nop
0x000e30d8 lui r1,0x8015
0x000e30dc lh r4,0x57e0(r1)
0x000e30e0 nop
0x000e30e4 add r4,r16,r4
0x000e30e8 sll r16,r4,0x10
0x000e30ec addi r4,r17,0x0001
0x000e30f0 sll r17,r4,0x10
0x000e30f4 sra r16,r16,0x10
0x000e30f8 sra r17,r17,0x10
0x000e30fc lui r4,0x8013
0x000e3100 addiu r4,r4,0xabf4
0x000e3104 addu r4,r4,r2
0x000e3108 lh r4,0x0000(r4)
0x000e310c addiu r1,r0,0xffff
0x000e3110 beq r4,r1,0x000e313c
0x000e3114 nop
0x000e3118 lui r1,0x8015
0x000e311c lh r4,0x57e2(r1)
0x000e3120 nop
0x000e3124 add r4,r16,r4
0x000e3128 sll r16,r4,0x10
0x000e312c addi r4,r17,0x0001
0x000e3130 sll r17,r4,0x10
0x000e3134 sra r16,r16,0x10
0x000e3138 sra r17,r17,0x10
0x000e313c lui r4,0x8013
0x000e3140 addiu r4,r4,0xabf6
0x000e3144 addu r4,r4,r2
0x000e3148 lh r4,0x0000(r4)
0x000e314c addiu r1,r0,0xffff
0x000e3150 beq r4,r1,0x000e317c
0x000e3154 nop
0x000e3158 lui r1,0x8015
0x000e315c lh r4,0x57e4(r1)
0x000e3160 nop
0x000e3164 add r4,r16,r4
0x000e3168 sll r16,r4,0x10
0x000e316c addi r4,r17,0x0001
0x000e3170 sll r17,r4,0x10
0x000e3174 sra r16,r16,0x10
0x000e3178 sra r17,r17,0x10
0x000e317c lui r4,0x8013
0x000e3180 addiu r4,r4,0xabf8
0x000e3184 addu r2,r4,r2
0x000e3188 lh r2,0x0000(r2)
0x000e318c addiu r1,r0,0xffff
0x000e3190 beq r2,r1,0x000e31bc
0x000e3194 nop
0x000e3198 lui r1,0x8015
0x000e319c lh r2,0x57e6(r1)
0x000e31a0 nop
0x000e31a4 add r2,r16,r2
0x000e31a8 sll r16,r2,0x10
0x000e31ac addi r2,r17,0x0001
0x000e31b0 sll r17,r2,0x10
0x000e31b4 sra r16,r16,0x10
0x000e31b8 sra r17,r17,0x10
0x000e31bc div r16,r17
0x000e31c0 mflo r2
0x000e31c4 sll r16,r2,0x10
0x000e31c8 sra r16,r16,0x10
0x000e31cc slt r1,r19,r16
0x000e31d0 beq r1,r0,0x000e31f0
0x000e31d4 nop
0x000e31d8 sll r19,r16,0x10
0x000e31dc sll r16,r0,0x10
0x000e31e0 addu r21,r3,r0
0x000e31e4 sra r19,r19,0x10
0x000e31e8 addu r17,r0,r0
0x000e31ec sra r16,r16,0x10
0x000e31f0 addiu r18,r18,0x0001
0x000e31f4 addi r20,r20,0x0001
0x000e31f8 slti r1,r20,0x0006
0x000e31fc bne r1,r0,0x000e2f74
0x000e3200 nop
0x000e3204 sll r2,r21,0x10
0x000e3208 lw r31,0x0034(r29)
0x000e320c lw r22,0x0030(r29)
0x000e3210 lw r21,0x002c(r29)
0x000e3214 lw r20,0x0028(r29)
0x000e3218 lw r19,0x0024(r29)
0x000e321c lw r18,0x0020(r29)
0x000e3220 lw r17,0x001c(r29)
0x000e3224 lw r16,0x0018(r29)
0x000e3228 sra r2,r2,0x10
0x000e322c jr r31
0x000e3230 addiu r29,r29,0x0038